#!/bin/sh

. "${SCRIPTS_RC:-$HOME/scripts}/scriptsrc"
. "$lib/lines"

encode="$lib/encode"

args=""
vals=""

for arg in "$@"
do
    case "$arg" in
        "--awk-regex"|"--sed-regex"|"--html")
            args=$(list_add "$args" "$arg")
            ;;
        *) vals=$(list_add "$vals" "$arg") ;;
    esac
done

if [ -n "$vals" ]
then
    if [ -n "$args" ]
    then
        for arg in "$args"
        do
            case "$1" in
                "--awk-regex") echo "$vals" | $encode/enc_awk_regex.sed ;;
                "--sed-regex") echo "$vals" | $encode/enc_sed_regex.sed ;;
                "--html") echo "$vals" | $encode/enc_html.sed ;;
            esac
        done
    fi
else
    if [ -n "$args" ]
    then
        for arg in "$args"
        do
            case "$1" in
                "--awk-regex") $encode/enc_awk_regex.sed ;;
                "--sed-regex") $encode/enc_sed_regex.sed ;;
                "--html") $encode/enc_html.sed ;;
            esac
        done
    else
        cat
    fi
fi

