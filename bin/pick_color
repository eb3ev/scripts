#!/bin/sh

. "$SCRIPTS_HOME/scriptsrc"

get_hex_value() {
    echo "$1" | awk -F ' \\| ' '{print $2}' | sed 's/Hex: //g'
}

get_rgb_value() {
    echo "$1" | awk -F ' \\| ' '{print $1}' | sed 's/ //g;s/,/  /g'
}

color=$(colorpicker --one-shot 2>/dev/null)

if [ -n "$color" ]
then
    hex=$(get_hex_value "$color")
    rgb=$(get_rgb_value "$color")

    notify-send "Color" "$hex  ï‘„  $rgb"

    printf "%s" "$hex" | xclip -selection clipboard
fi

