. "${SCRIPTS_DIR:-$HOME/scripts}/scriptsrc"

keys () {
    delim="${2:- . }"
    filter="${3:-"!/^ *#/ && NF {print \$1}"}"
    awk -F "$delim" "$filter" "$1"
}

value () {
    key=$(enc --sed-regex "$1")
    delim="${3:- . }"
    value_index="${4:-2}"
    awk -F "$delim" "/^$key$delim/ {print \$$value_index}" "$2"
}

get_column () {
    if [ -n "$3" ]
    then
        awk -F "$1" "{print \$$2}" "$3"
    else
        awk -F "$1" "{print \$$2}"
    fi
}
